<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>üõéÔ∏è Push the button - Learn To Build A Web Page</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>‚Üê</kbd> or <kbd>‚Üí</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Learn To Build A Web Page</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="-push-the-button"><a class="header" href="#-push-the-button">üõéÔ∏è Push the Button</a></h1>
<h2 id="-ziele"><a class="header" href="#-ziele">üéØ Ziele</a></h2>
<p>Unsere Buttons sehen zwar aus wie Buttons, aber sie machen noch nichts. Wir wollen folgende Funktionen erreichen:</p>
<ol>
<li><strong>Artikel Like Button</strong> - mit Unlike und Z√§hler</li>
<li><strong>Autor:in Folgen Button</strong> - mit Unfollow</li>
<li><strong>Thema Folgen Button</strong> - mit Unfollow</li>
</ol>
<blockquote>
<p><strong>Frontend-Focus</strong>: In dieser Umsetzung konzentrieren wir uns auf Frontend-Logik. Daten werden nur im Frontend gespeichert - bei einem Page-Reload werden alle Status zur√ºckgesetzt.</p>
</blockquote>
<hr />
<h2 id="skript-setup"><a class="header" href="#skript-setup">Skript Setup</a></h2>
<h3 id="button-script-erstellen"><a class="header" href="#button-script-erstellen">Button-Script erstellen</a></h3>
<ol>
<li><strong>Neue Datei erstellen</strong>: <code>buttons.js</code> im <code>javascript</code> Ordner</li>
<li><strong>Import in <code>main.js</code></strong> hinzuf√ºgen</li>
<li><strong>Test mit Console-Output</strong> (siehe Kapitel "Table Auto Design")</li>
</ol>
<h3 id="-debugging-optionen"><a class="header" href="#-debugging-optionen">üêõ Debugging-Optionen</a></h3>
<p>F√ºr lokales Debugging siehe:</p>
<ul>
<li><a href="../debugVsCode.html">Debug JavaScript mit Browser (Chrome)</a></li>
<li><a href="../debugVsCode.html">Debug JavaScript mit Visual Code</a></li>
</ul>
<hr />
<h2 id="event-listener-verstehen"><a class="header" href="#event-listener-verstehen">Event Listener verstehen</a></h2>
<h3 id="events-grundlagen"><a class="header" href="#events-grundlagen">Events Grundlagen</a></h3>
<p>Ein <strong>Event</strong> ist eine Nachricht wenn eine Aktion stattfindet - wie "Button XY wurde gedr√ºckt". Der Browser kennt Standard-Reaktionen auf Events (z.B. Checkbox an/aus).</p>
<p>Mehr dazu: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault">MDN Event.preventDefault</a></p>
<h3 id="events-finden"><a class="header" href="#events-finden">Events finden</a></h3>
<details>
<summary>√ñffne f√ºr mehr Infos</summary>
<p><strong>Herausforderung</strong>: Nicht jedes Element bietet die selben Events an:</p>
<ul>
<li><strong>Button</strong> kann geklickt werden</li>
<li><strong>Textfeld</strong> kann beschrieben werden</li>
<li><strong>Maus</strong> kann bewegt werden</li>
</ul>
<p><strong>Aber wie finde ich heraus, welche Events verf√ºgbar sind?</strong></p>
<h4 id="mdn-dokumentation-durchsuchen"><a class="header" href="#mdn-dokumentation-durchsuchen">MDN-Dokumentation durchsuchen</a></h4>
<ol>
<li><strong>Button-spezifische API</strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLButtonElement">HTMLButtonElement</a></li>
<li><strong>Instance Methods</strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLButtonElement#instance_methods">HTMLButtonElement#instance_methods</a></li>
<li><strong>Problem</strong>: Der "click" Event ist hier nicht direkt zu finden!</li>
</ol>
<h4 id="vererbungskette-verstehen"><a class="header" href="#vererbungskette-verstehen">Vererbungskette verstehen</a></h4>
<p><strong>Wichtiger Hinweis</strong>: Button erbt Methoden vom Eltern-Element:</p>
<blockquote>
<p><strong>"inherits methods from its parent, HTMLElement"</strong></p>
</blockquote>
<p><strong>L√∂sungsweg</strong>: Durch die Vererbungskette navigieren:</p>
<ul>
<li><code>HTMLButtonElement</code> ‚Üí <code>HTMLElement</code> ‚Üí <code>Element</code></li>
<li><strong>Ziel</strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">Element API</a> - hier finden sich die meisten Events!</li>
</ul>
<h4 id="praktische-tipps"><a class="header" href="#praktische-tipps">Praktische Tipps</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Methode</th><th>Beschreibung</th><th>Effektivit√§t</th></tr></thead><tbody>
<tr><td><strong>Dokumentation</strong></td><td>MDN systematisch durchsuchen</td><td>Vollst√§ndig aber zeitaufw√§ndig</td></tr>
<tr><td><strong>Trial &amp; Error</strong></td><td>Events ausprobieren und testen</td><td>Schnell f√ºr bekannte Events</td></tr>
<tr><td><strong>IDE-Support</strong></td><td>Autocomplete und IntelliSense nutzen</td><td>Sehr praktisch w√§hrend Entwicklung</td></tr>
</tbody></table>
</div>
<blockquote>
<p><strong>Praxis-Tipp</strong>: Die Devise <strong>"trial and error"</strong> ist oft effizienter als stundenlanges Dokumentation-Studium!</p>
</blockquote>
</details>
<h3 id="event-listener-erstellen"><a class="header" href="#event-listener-erstellen">Event Listener erstellen</a></h3>
<p><strong>Schritt 1</strong>: Alle Buttons finden und Event Listener registrieren</p>
<pre><code class="language-javascript">document.querySelectorAll("button").forEach((button) =&gt; {
  // F√ºr jeden Button einen Click-Listener erstellen
});
</code></pre>
<p><strong>Event Listener hinzuf√ºgen</strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener">MDN addEventListener</a></p>
<pre><code class="language-javascript">button.addEventListener("click", () =&gt; {
  // Handle button click
});
</code></pre>
<p>Der erste Parameter ist der Event Type, der zweite (nach dem <code>,</code>) nimmt eine Funktion entgegen, welche ausgef√ºhrt werden soll, wenn der Listener greift. Nun wird es etwas kompliziert, wenn du dies im Detail verstehen m√∂chtest‚Ä¶ Lies dazu <a href="../callbacks.html">JavaScript und Callbacks</a> oder √ºbernimmt einfach mal nachfolgende Code Snippets.</p>
<h3 id="erster-test"><a class="header" href="#erster-test">Erster Test</a></h3>
<pre><code class="language-javascript">document.querySelectorAll("button").forEach((button) =&gt; {
  button.addEventListener("click", () =&gt; {
    // Handle button click
    alert(`Button "${button.textContent.trim()}" wurde geklickt!`);
  });
});
</code></pre>
<p>Teste im Browser - bei jedem Button-Klick sollte ein Alert erscheinen!</p>
<hr />
<h2 id="html-mit-data-attributen-erweitern"><a class="header" href="#html-mit-data-attributen-erweitern">HTML mit Data-Attributen erweitern</a></h2>
<h3 id="button-unterscheidung"><a class="header" href="#button-unterscheidung">Button-Unterscheidung</a></h3>
<p>Wir haben 3 verschiedene Button-Typen. F√ºr bessere JavaScript-Kontrolle erweitern wir das HTML:</p>
<p><strong>Data-Attribute hinzuf√ºgen:</strong></p>
<ul>
<li><code>data-button-state</code>: "active" oder "inactive"</li>
<li><code>data-button</code>: Button-Name zur Identifikation</li>
</ul>
<h3 id="html-updates"><a class="header" href="#html-updates">HTML-Updates</a></h3>
<h4 id="like-button"><a class="header" href="#like-button">Like Button</a></h4>
<pre><code class="language-html">&lt;button
  data-button-state="inactive"
  data-button="like_article"
  class="primary mb-s font-small align-items-center text-center"&gt;
</code></pre>
<h4 id="autorin-folgen"><a class="header" href="#autorin-folgen">Autor:in folgen</a></h4>
<pre><code class="language-html">&lt;button
  data-button-state="inactive"
  data-button="follow_author"
  class="primary"&gt;
</code></pre>
<h4 id="thema-folgen"><a class="header" href="#thema-folgen">Thema folgen</a></h4>
<pre><code class="language-html">&lt;button
  data-button-state="inactive"
  data-button="follow_topic"
  class="primary"&gt;
</code></pre>
<h3 id="spezifische-button-auswahl"><a class="header" href="#spezifische-button-auswahl">Spezifische Button-Auswahl</a></h3>
<pre><code class="language-javascript">document.querySelectorAll("button[data-button]").forEach((button) =&gt; {
  // Nur Buttons mit data-button Attribut
});
</code></pre>
<hr />
<h2 id="button-states-management"><a class="header" href="#button-states-management">Button States Management</a></h2>
<h3 id="-switch-statement-f√ºr-button-typen"><a class="header" href="#-switch-statement-f√ºr-button-typen">‚ö° Switch-Statement f√ºr Button-Typen</a></h3>
<p>Siehe auch <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch">JavaScript Switch Statement</a></p>
<pre><code class="language-javascript">document.querySelectorAll("button[data-button]").forEach((button) =&gt; {
  button.addEventListener("click", () =&gt; {
    switch (button.dataset.button) {
      case "like_article":
        break;
      case "follow_author":
        break;
      case "follow_topic":
        break;
      default:
        console.warn(`Unbekannter Button-Typ: ${button.dataset.button}`);
    }
  });
});
</code></pre>
<h3 id="toggle-funktionalit√§t"><a class="header" href="#toggle-funktionalit√§t">Toggle-Funktionalit√§t</a></h3>
<p>Im n√§chsten Schritt wollen wir ein einfaches "toggle" einbauen. Das ist der Begriff, wenn zwischen Zust√§nden gewechselt wird. Meistens zwischen 2 wie bei uns. Von inaktiv auf aktiv und zur√ºck.</p>
<p><strong>Toggle-Funktion erstellen:</strong></p>
<p>Damit der Button tats√§chlich "toggled" wollen wir die Funktion toggleButtonState so erweitern, dass sie den nun aktiven State ausliest und ihn "umdreht". Zus√§tzlich setzen bzw. entfernen wir den primary-button als CSS Klasse. So wird bereits optisch was passieren.</p>
<p>Lies also als erstes den state aus dem Button und speichere ihn als lokale Variable in der Funktion ab.</p>
<pre><code class="language-javascript">function toggleButtonState(button) {
  const currentState = button.dataset.buttonState;
</code></pre>
<p>Nun kannst du mit einem "if" unterscheiden was basierend auf dem aktuellen State passieren soll. Nebst der CSS Klasse setzen wir auch den State zur√ºck.</p>
<pre><code class="language-javascript">function toggleButtonState(button) {
  const currentState = button.dataset.buttonState;
  
  if (currentState == "active") {
    button.classList.add("primary");
    button.dataset.buttonState = "inactive";
  } else {
    button.classList.remove("primary");
    button.dataset.buttonState = "active";
  }
}
</code></pre>
<p><strong>Funktionsaufruf in Switch-Statement:</strong></p>
<p>Nun muss die Funktion noch aufgerufen werden.</p>
<pre><code class="language-javascript">switch (button.dataset.button) {
  case "like_article":
    toggleButtonState(button);
    break;
  case "follow_author":
    toggleButtonState(button);
    break;
  case "follow_topic":
    toggleButtonState(button);
    break;
}
</code></pre>
<h3 id="css-klassen-automatisch-togglen"><a class="header" href="#css-klassen-automatisch-togglen">CSS-Klassen automatisch togglen</a></h3>
<p>Mit <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/classList">classList.toggle</a> wird das setzen/entfernen der CSS Klasse noch einfacher:</p>
<pre><code class="language-javascript">function toggleButtonState(button) {
  const currentState = button.dataset.buttonState;
  button.classList.toggle("primary");
  
  if (currentState == "active") {
    button.dataset.buttonState = "inactive";
  } else {
    button.dataset.buttonState = "active";
  }
}
</code></pre>
<hr />
<h2 id="button-texte-dynamisch-√§ndern"><a class="header" href="#button-texte-dynamisch-√§ndern">Button-Texte dynamisch √§ndern</a></h2>
<h3 id="text-parameter-hinzuf√ºgen"><a class="header" href="#text-parameter-hinzuf√ºgen">Text-Parameter hinzuf√ºgen</a></h3>
<pre><code class="language-javascript">function toggleButtonState(button, activationText, inactivatingText) {
  const currentState = button.dataset.buttonState;
  button.classList.toggle("primary");

  if (currentState == "active") {
    button.textContent = activationText;
    button.dataset.buttonState = "inactive";
  } else {
    button.textContent = inactivatingText;
    button.dataset.buttonState = "active";
  }
}
</code></pre>
<h4 id="erkl√§rungen"><a class="header" href="#erkl√§rungen">Erkl√§rungen</a></h4>
<ul>
<li>mit <code>.textContent</code> erhalten wir direkt den Text ohne inneres HTML</li>
<li><code>activationText</code> und <code>inactivatingText</code> sind zwei neue Funktions Parameter</li>
<li>Die Texte m√ºssen √ºbergeben werden, damit sie was tun</li>
</ul>
<h3 id="text-konstanten-definieren"><a class="header" href="#text-konstanten-definieren">Text-Konstanten definieren</a></h3>
<p>Diese werden am Anfang des Files definiert und erlauben einfaches lesen der Texte.</p>
<pre><code class="language-javascript">const likePageText = "Dieser Artikel gef√§llt mir!";
const unlikePageText = "Dieser Artikel gef√§llt mir nicht mehr";
const followAuthorText = "Autor:in folgen";
const unfollowAuthorText = "Autor:in nicht mehr folgen";
const followTopicText = "Thema folgen";
const unfollowTopicText = "Thema entfolgen";
</code></pre>
<h3 id="switch-statement-mit-texten"><a class="header" href="#switch-statement-mit-texten">Switch-Statement mit Texten</a></h3>
<p>Damit die Texte stimmen, √ºbergibst du sie aus der Switch Funktion an die Toggle Funktion.</p>
<pre><code class="language-javascript">switch (button.dataset.button) {
  case "like_article":
    toggleButtonState(button, likePageText, unlikePageText);
    break;
  case "follow_author":
    toggleButtonState(button, followAuthorText, unfollowAuthorText);
    break;
  case "follow_topic":
    toggleButtonState(button, followTopicText, unfollowTopicText);
    break;
}
</code></pre>
<hr />
<h2 id="like-button-erweitern"><a class="header" href="#like-button-erweitern">Like Button erweitern</a></h2>
<h3 id="like-counter-implementieren"><a class="header" href="#like-counter-implementieren">Like Counter implementieren</a></h3>
<p>Der Like Button braucht zus√§tzliche Features:</p>
<ul>
<li><strong>Z√§hler</strong> f√ºr Likes</li>
<li><strong>Icon</strong> mit Herz/gebrochenem Herz (Kosmetik)</li>
</ul>
<h3 id="html-f√ºr-counter-markieren"><a class="header" href="#html-f√ºr-counter-markieren">HTML f√ºr Counter markieren</a></h3>
<p><strong>Zahl mit span und ID markieren:</strong></p>
<p>Den counter legen wir lokal im JavaScript an, mit dem Bewusstsein, dass die Daten sp√§ter von einem Server kommen sollten. Dazu m√ºssen wir zudem im HTML die Stelle markieren, wo der Counter steht.</p>
<p>Gehe zur Stelle im HTML wo steht "59 Personen gef√§llt dieser Artikel".
Wir wollen nur die Zahl steuern k√∂nnen. Daf√ºr ist ein <code>&lt;span&gt;</code> Element perfekt geeignet, da es keine Zeile erstellt. F√ºge ein span Element um die Zahl ein und vergib die id "data-like-counter".</p>
<pre><code class="language-html">&lt;span id="data-like-counter"&gt;59&lt;/span&gt; Personen gef√§llt dieser Artikel
</code></pre>
<blockquote>
<p>üí° <strong>Wichtig</strong>: IDs d√ºrfen nur einmal pro HTML existieren!</p>
</blockquote>
<h3 id="like-spezifische-toggle-funktion"><a class="header" href="#like-spezifische-toggle-funktion">Like-spezifische Toggle-Funktion</a></h3>
<p>Der Like Button wird nun eine Sonderbehandlung brauchen. Lege eine neue Function an im JavaScript und nenne sie <code>toggleLikeButtonState</code>. Als Parameter brauchen wir den Button.</p>
<pre><code class="language-javascript">function toggleLikeButtonState(button) {
  const currentState = button.dataset.buttonState;
  const likeCounter = document.querySelector("#data-like-counter");
  // Alternative: document.getElementById("data-like-counter");
  
  let currentCount = parseInt(likeCounter.textContent);
  
  if (currentState == "inactive") {
    currentCount++;
  } else {
    currentCount--;
  }
  
  likeCounter.textContent = currentCount;
}
</code></pre>
<h4 id="erkl√§rungen-1"><a class="header" href="#erkl√§rungen-1">Erkl√§rungen</a></h4>
<ul>
<li><code>currentCount</code>dient als Zwischenspeicher des aktuellen Count</li>
<li><code>parseInt</code>konvertiert den Text zu einer Zahl, damit das Rechnen sauber klappt</li>
<li><code>button.dataset.buttonState</code>holt den Wert des Data Attributes mit Namen <code>button-state</code></li>
<li>der <code>currentState</code> dient f√ºr die Unterscheidung, ob plus oder minus gez√§hlt wird</li>
<li>mit <code>likeCounter.textContent = </code> wird der neue Wert gesetzt</li>
</ul>
<h3 id="integration-mit-bestehender-toggle-logik"><a class="header" href="#integration-mit-bestehender-toggle-logik">Integration mit bestehender Toggle-Logik</a></h3>
<p>Handelt es sich um den Like Button, soll die neue Logik aufgerufen werden.</p>
<pre><code class="language-javascript">case "like_article":
  toggleLikeButtonState(button, likePageText, unlikePageText);
  break;
</code></pre>
<h4 id="text-und-aussehen-korrigieren"><a class="header" href="#text-und-aussehen-korrigieren">Text und Aussehen korrigieren</a></h4>
<p>Wenn du jetzt ausprobierst, was passiert, wirst du bemerken, dass zwar der Z√§hler funktioniert, daf√ºr aber der Text und Aussehen nicht mehr stimmen. Das gute ist, die Logik haben wir ja bereits im "toggleButtonState" geschrieben und k√∂nnen sie einfach nochmals aufrufen, bevor wir den Counter setzen.</p>
<pre><code class="language-javascript">function toggleLikeButtonState(button) {
  const currentState = button.dataset.buttonState;
  const likeCounter = document.querySelector("#data-like-counter");
  // Alternative: document.getElementById("data-like-counter");
  
  let currentCount = parseInt(likeCounter.textContent);
  
  // bestehende Logik wiederverwenden
  toggleButtonState(button, likePageText, unlikePageText);

  if (currentState == "inactive") {
    currentCount++;
  } else {
    currentCount--;
  }
  
  likeCounter.textContent = currentCount;
}
</code></pre>
<h4 id="refactoring"><a class="header" href="#refactoring">Refactoring</a></h4>
<p>An der L√∂sung ist noch etwas unsauber, dass sich die Methode <code>toggleLikeButtonState</code> ums direkte setzten der Texte k√ºmmert. Wir m√∂chten auch hier die Texte als Parameter entgegen nehmen, auch wenn wir hier grunds√§tzlich "wissen" um welche Texte es sich handelt. Lagerst du die Verantwortung jedoch an den Aufrufer aus, dann ist die Methode "unabh√§ngig" und k√∂nnte einfacher umgezogen werden. Erweitere also die Methode genau gleich wie <code>toggleButtonState</code> um die zwei Parameter, √ºbergib dieses an die toggleButtonState Methode und √ºbergib die Werte wieder bei der Switch Methode.</p>
<pre><code class="language-javascript">case "like_article":
        toggleLikeButtonState(button, likePageText, unlikePageText);
        break;

function toggleLikeButtonState(button, activationText, inactivatingText) {
  const currentState = button.dataset.buttonState;
  const likeCounter = document.getElementById("data-like-counter");
  let currentCount = parseInt(likeCounter.textContent);
  toggleButtonState(button, activationText, inactivatingText);
</code></pre>
<hr />
<h2 id="icon-integration"><a class="header" href="#icon-integration">Icon-Integration</a></h2>
<p>Das Icon wird aktuell gel√∂scht, sobald du den Button dr√ºckst. Eigentlich m√∂chten wir auch das Icon korrekt setzen. Daf√ºr erstellen wir zuerst einmal das n√∂tige HTML, dass wir dann einsetzen k√∂nnen. Erstelle am Anfang des Scripts je eine Variable f√ºr das "filledHeart" und das "brokenHeart".</p>
<h3 id="svg-icons-vorbereiten"><a class="header" href="#svg-icons-vorbereiten">SVG-Icons vorbereiten</a></h3>
<pre><code class="language-javascript">const filledHeart = document.createElement("span");
const brokenHeart = document.createElement("span");

filledHeart.innerHTML = `&lt;svg
  fill="none" viewBox="0 0 16 16" width="16" height="16"
  class="svg-icon"&gt;
  &lt;path fill="#fff" fill-rule="evenodd" 
    d="M13.971 3.029a3.53 3.53 0 0 0-4.983 0L8 4.018l-.988-.989a3.53 3.53 0 0 0-4.983 0 3.54 3.54 0 0 0 0 4.991L8 14l5.972-5.98a3.54 3.54 0 0 0 0-4.991" 
    clip-rule="evenodd"&gt;&lt;/path&gt;
&lt;/svg&gt;`;

brokenHeart.innerHTML = `&lt;svg
  fill="none" viewBox="0 0 16 16" width="16" height="16"
  class="svg-icon"&gt;
  &lt;path fill="#000" fill-rule="evenodd" 
    d="M13.971 3.029a3.53 3.53 0 0 0-4.983 0L8 4.018l-.988-.989a3.53 3.53 0 0 0-4.983 0 3.54 3.54 0 0 0 0 4.991L8 14l5.972-5.98a3.54 3.54 0 0 0 0-4.991" 
    clip-rule="evenodd"&gt;&lt;/path&gt;
  &lt;polyline points="6,4 8,8 7,10 9,12" stroke="#fff" stroke-width="1" fill="none"/&gt;
&lt;/svg&gt;`;

// Abstand zwischen Icon und Text
filledHeart.classList.add("mr-s");
brokenHeart.classList.add("mr-s");
</code></pre>
<h4 id="erkl√§rungen-2"><a class="header" href="#erkl√§rungen-2">Erkl√§rungen</a></h4>
<ul>
<li><code>createElement</code>erstellt ein HTML Element vom Typ, den du mitgibst</li>
<li>mit <code>innerHtml</code>kann HTML angef√ºgt werden</li>
<li>der SVG Code selbst ist eher kommpliziert. Im Prinzip gibt es die Linien vor, die gezeichnet werden</li>
</ul>
<h3 id="icons-in-toggle-funktion-integrieren"><a class="header" href="#icons-in-toggle-funktion-integrieren">Icons in Toggle-Funktion integrieren</a></h3>
<pre><code class="language-javascript">if (currentState == "inactive") {
  button.prepend(filledHeart);
  currentCount++;
} else {
  button.prepend(brokenHeart);
  currentCount--;
}
</code></pre>
<hr />
<h2 id="-ergebnis"><a class="header" href="#-ergebnis">üéâ Ergebnis</a></h2>
<p><strong>Alle Buttons sind jetzt voll funktionsf√§hig:</strong></p>
<p>‚úÖ <strong>Like Button</strong>: Toggle mit Counter und Icon<br />
‚úÖ <strong>Follow Author</strong>: Toggle mit Text-√Ñnderung<br />
‚úÖ <strong>Follow Topic</strong>: Toggle mit Text-√Ñnderung</p>
<h3 id="n√§chste-schritte"><a class="header" href="#n√§chste-schritte">N√§chste Schritte</a></h3>
<p>Im n√§chsten Kapitel verbinden wir die Buttons mit einem <strong>Backend</strong> f√ºr persistente Datenspeicherung!</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../javascript/blogPageIntelligence/table.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../javascript/blogPageIntelligence/backendConnect.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../javascript/blogPageIntelligence/table.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../javascript/blogPageIntelligence/backendConnect.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
