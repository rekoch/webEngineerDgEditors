<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Debug JS mit Chrome - Learn To Build A Web Page</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Learn To Build A Web Page</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="debug-js-mit-chrome"><a class="header" href="#debug-js-mit-chrome">Debug JS mit Chrome</a></h1>
<p>Die Methode welche den einfachsten Zugang gewährt, ist der Browser selbst. Denn der Browser führt direkt JavaScript aus und unterstützt dich mit vielen sinnvollen Tools.</p>
<ol>
<li>Öffne die Seite <a href="https://web-eng-dg.web.app/03_javascript/03_buttonReactive/index.html">02_buttonReactive</a> mit Chrome</li>
<li>Öffne die Dev Tools (F12, rechtsklick im HTML -&gt; untersuchen)</li>
<li>Scrolle zu den Buttons am Ende der Seite
<img src="./images/BlogPageButtons.png" alt="Blog Page Buttons" /></li>
<li>Drücke bspw. auf den "Dieser Artikel gefällt mir!" Button. Du siehst, dass sich die Anzeige ändert und bspw. von "59 auf 60" bzw. zurück auf "59" wechselt</li>
<li>Damit wir den dahinter liegenden JavaScript Code debuggen können, müsstest du schon fast wissen wie der heisst. Du kannst auch auf gut Glück die Dateien betrachten.</li>
<li>Wähle im Dev-Tool das Tab "sources"
<img src="./images/DevToolSources.png" alt="dev Tool Sources" />
<img src="./images/DevToolSourceButton.png" alt="dev Tool Sources" /></li>
<li>In diesem Fall haben wir "Glück" und es gibt den Folder "javascript" und die Datei "buttons.js" umd die es wohl geht. Klicke die Datei an. Der Source-Code wird auf der rechten Seite angezeigt
<img src="./images/DevToolSourceButtonDetail.png" alt="dev Tool Sources" /></li>
<li>Wenn du weiter schaust findest du die Funktion <code>toggleLikeButtonState</code> was wohl unser gesuchtes Stück Code sein dürfte. Klicke danach links beim Zeilenmarker mit der Maus. Du solltest eine Markierung kriegen.</li>
<li>Drücke jetzt nochmals auf den like button. Wenn es geklappt hat, siehst du im Dev Tool nun die Stelle umrandet. Zudem etwas weiter rechts noch die ganzen debug tools. Auf der Seite selbst steht ebenfalls eine Info.
<img src="./images/DevToolScript.png" alt="dev Tool Break" />
<img src="./images/DevToolStepper.png" alt="dev Tool Break" /></li>
<li>Mit F10 oder dem button kannst du nun einzeln weiter gehen. Im Code kannst du bei fast allen Elementen mit der Maus darüber fahren und siehst die Details dazu</li>
<li>Wir haben aktuell am Anfang gestoppt. Daher ist <code>currentState</code> noch nicht gefüllt
<img src="./images/DevToolBreak.png" alt="dev Tool Break" />
<img src="./images/DevToolValues.png" alt="dev Tool Break" /></li>
<li>Drücke jetzt auf den Button oder F10 einmal
<img src="./images/DevToolValuesInScript.png" alt="dev Tool Break" /></li>
<li>Jetzt siehst du das der Zeiger eins weiter gewandert ist und die Variable <code>currentState</code> den aktuellen Wert anzeigt. In diesem Fall <code>inactive</code></li>
<li>Jetzt kannst du beliebig weiter steppen. Beispielsweise ist es dann spannend, ob beim ersten <code>if</code> im code das richtige passiert?</li>
<li>Mit jedem Step siehst du auch, wie sich das HTML anpasst, vorausgesetzt, der Schritt ändert auch tatsächlich was. Bei Zeile 50+ werden die Texte, Farben etc. angepasst.</li>
<li>Gehe mal ganz durch, bis du wieder "normal" bist und drücke denn Like-Button nochmals. Du solltest dann beim <code>if</code> in die andere Variante reinlaufen</li>
</ol>
<h2 id="was-kann-ich-tun-wenn-ich-nicht-weiss-in-welchem-file-die-Änderung-gemacht-wird"><a class="header" href="#was-kann-ich-tun-wenn-ich-nicht-weiss-in-welchem-file-die-Änderung-gemacht-wird">Was kann ich tun, wenn ich nicht weiss in welchem File die Änderung gemacht wird?</a></h2>
<ol>
<li>Wir hatten vorhin "glück" dass wir das File einfach so gefunden haben.</li>
<li>Lösche den aktuellen Breakpoint im buttons.js file wieder. Dies kannst du auf verschiedene Wege. Das einfachste ist wohl einfach nochmals an der Stelle zu klicken und die Markierung sollte verschwinden</li>
<li>Gehe dann im Dev-Tool zurück ins Tab "Elements" wo das html angezeigt</li>
<li>Suche den Button (oder mit dem Fadenkreuz anwählen) damit du an der richtigen Stell im HTML bist</li>
<li>Mache dann einen Rechtsklick und wähle "Break on" -&gt; "subtree modifications"
<img src="./images/DevToolBreakOnSubtree.png" alt="dev Tool Break Subtree" /></li>
<li>Klicke dann nochmals den Button</li>
<li>Du solltest an genau der Stelle "breaken" -&gt; pausieren, wo durch das Javascript der Text geändert wird
<img src="./images/DevToolPausedOnBreakpoint.png" alt="dev Tool Break" /></li>
<li>Dies ist super hilfreich, wenn du ein Verhalten im HTML prüfen willst und durch welches Javascript das genau ausgelöst wird.</li>
<li>Im Debug Tool siehst du alle aktiven Breakpoints. Die dom-Breakpoints kannst du so prüfen und auch wieder löschen
<img src="./images/DevToolDomBreakpoints.png" alt="dev Tool Breakpoints" /></li>
</ol>
<h2 id="was-wenn-ich-einfach-egal-wo-im-html-wenn-es-geklickt-wird-will-ich-das-javascript-finden"><a class="header" href="#was-wenn-ich-einfach-egal-wo-im-html-wenn-es-geklickt-wird-will-ich-das-javascript-finden">Was wenn ich einfach "egal wo im HTML, wenn es geklickt wird will ich das Javascript finden"?</a></h2>
<p>Auch da hilft dir Chrome…</p>
<ol>
<li>Lösche allfällig vorhandene Breakpoints (inklusive den vorherigen DOM)</li>
<li>Gehe dort wo du die DOM Breakpoints siehst weiter nach unten und klappe "Event Listener Breakpoints" auf</li>
<li>Wähle "mouse" und dann "click"
<img src="./images/DevToolBreakOnClick.png" alt="dev Tool Break on Listener" /></li>
<li>Klicke nochmals auf den Button oder auch bewusst dieses Mal auf einen anderen</li>
<li>Der Debugger sollte dich automatisch dorthin führen, wo tatsächlich der "Start" Code liegt
<img src="./images/DevToolPausedOnClick.png" alt="dev Tool Break" /></li>
</ol>
<h2 id="und-wenn-ich-aus-meinen-code-heraus-genau-sagen-will-wo-es-stoppen-soll"><a class="header" href="#und-wenn-ich-aus-meinen-code-heraus-genau-sagen-will-wo-es-stoppen-soll">Und wenn ich aus meinen Code heraus genau sagen will, wo es stoppen soll?</a></h2>
<p>Es kann sein, dass du Zugang zum Code hast, weil du gerade entwickelst. Dann weisst du ev. genau welchen Teil des Skripts du genauer untersuchen möchtest. Alternativ kannst du auch mit VS Code debuggen Debug JavaScript mit Visual Code</p>
<p>Öffne bei dir im VS Code einen Stand mit JavaScript. Entweder das gleiche Beispiel wie oben oder sonst irgendwas anderes. Öffne das JavaScript im VS Code. Gehe beispielsweise zum Buttons.js</p>
<p>Schreibe an der Stelle, an der du den Debugger nutzen willst "debugger;" rein</p>
<p><img src="./images/DebbuggerStatement.png" alt="debugger statement" /></p>
<p>Öffne die Page mit dem LiveServer und dann das Dev Tool wie vorhin. Drücke einen Button.
Der Debugger stoppt an genau der Stelle.</p>
<p>Das kann helfen, wenn du auch verstehen willst, wo dein File/Code genau liegt. Vor allem wenn du mit React, Angular oder ähnlichen Bibliotheken arbeitest, kann es sein, dass dein Code nochmals umgewandelt wird.</p>
<p>Aber Achtung! Du darfst das "debugger" statement natürlich nicht produkiv ausliefern. Sonst stoppt die Page bei allen, die gleichzeitig das Dev Tool öffnen (wenigstens nur dann :D )</p>
<h3 id="weitere-infos-zum-chrome-debug-tool"><a class="header" href="#weitere-infos-zum-chrome-debug-tool">Weitere Infos zum Chrome Debug Tool</a></h3>
<p>Noch viel umfassender findest du die Debug Tools Erklärungen hier <a href="https://developer.chrome.com/docs/devtools/javascript?hl=de">Chrome Debug Tool</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../javascript/debugJs.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../javascript/debugVsCode.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../javascript/debugJs.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../javascript/debugVsCode.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
